plugin.tx_fileman {
	view {
		templateRootPath = {$plugin.tx_fileman.view.templateRootPath}
		partialRootPath = {$plugin.tx_fileman.view.partialRootPath}
		layoutRootPath = {$plugin.tx_fileman.view.layoutRootPath}
	}
	persistence {
		storagePid = {$plugin.tx_fileman.persistence.storagePid}
		classes {
			Tx_Fileman_Domain_Model_File {
				mapping.columns {
					tstamp.mapOnProperty = tstamp
				}
			}
			Tx_Fileman_Domain_Model_Link {
				mapping.columns {
					tstamp.mapOnProperty = tstamp
				}
			}
			Tx_Fileman_Domain_Model_FrontendUser {
				mapping.tableName = fe_users
			}
			Tx_Fileman_Domain_Model_FrontendUserGroup {
				mapping.tableName = fe_groups
			}
		}
	}
	jslib {
		jQuery.external = 1
		jQuery = {$plugin.tx_fileman.js.jQueryCDN}
		#TYPO3 4.6.0, http://forge.typo3.org/issues/29695 resolved? Clearly not, so for now:
		jQuery.disableCompression = 1
		
		jQueryUI.external = 0
		jQueryUI = {$plugin.tx_fileman.js.uiLibFile}
		jQueryUI.disableCompression = 1
		jQueryUIcss.external = 0
		jQueryUIcss = {$plugin.tx_fileman.js.uiCssFile}
		jQueryUIcss.disableCompression = 1
		
		inlineJS = FILE
		inlineJS.file = {$plugin.tx_fileman.js.libFile}
	}
	settings {
		uploadDir = {$plugin.tx_fileman.settings.uploadDir}
		allowFileType = {$plugin.tx_fileman.settings.allowFileType}
		denyFileType = {$plugin.tx_fileman.settings.denyFileType}
	}
	features {
		# uncomment the following line to enable the new Property Mapper.
		# rewrittenPropertyMapper = 1
	}
}

[globalVar = LIT:0 < {$plugin.tx_fileman.js.includeJquery}] && [globalVar = LIT:0 < {$plugin.tx_fileman.js.toFooter}] 
page.includeJSFooterlibs.fileman_jQuery < plugin.tx_fileman.jslib.jQuery

[globalVar = LIT:0 < {$plugin.tx_fileman.js.includeJquery}] && [globalVar = LIT:1 > {$plugin.tx_fileman.js.toFooter}] 
page.includeJSlibs.fileman_jQuery < plugin.tx_fileman.jslib.jQuery

[globalVar = LIT:0 < {$plugin.tx_fileman.js.includeJqueryUI}] && [globalVar = LIT:0 < {$plugin.tx_fileman.js.toFooter}] 
page.includeJSFooterlibs.fileman_jQueryUI < plugin.tx_fileman.jslib.jQueryUI
page.includeCSS.fileman_jQueryUI < plugin.tx_fileman.jslib.jQueryUIcss

[globalVar = LIT:0 < {$plugin.tx_fileman.js.includeJqueryUI}] && [globalVar = LIT:1 > {$plugin.tx_fileman.js.toFooter}] 
page.includeJSlibs.fileman_jQueryUI < plugin.tx_fileman.jslib.jQueryUI
page.includeCSS.fileman_jQueryUI < plugin.tx_fileman.jslib.jQueryUIcss

[globalVar = LIT:0 < {$plugin.tx_fileman.js.includeJS}] && [globalVar = LIT:0 < {$plugin.tx_fileman.js.toFooter}]
page.jsFooterInline.198311310 < plugin.tx_fileman.jslib.inlineJS

[globalVar = LIT:0 < {$plugin.tx_fileman.js.includeJS}] && [globalVar = LIT:1 > {$plugin.tx_fileman.js.toFooter}]
page.jsInline.198311310 < plugin.tx_fileman.jslib.inlineJS
[global]

plugin.tx_fileman._CSS_DEFAULT_STYLE (
	.tx-fileman .f3-form-error {
		background-color:#ff9f9f !important;
		border:1px #ff0000 solid !important;
	}
	
	.tx-fileman .submit {
		border:1px solid #999;
		background-color:#ccc;
	}
	
	.tx-fileman .textinput,
	.tx-fileman textarea,
	.tx-fileman .fileupload {
		width:500px;
		border:1px solid #c2c2c1;
		background-color:#fafaf5;
	}
	
	.tx-fileman #fileman-links {
		height:100px;
	}
	
	
	.tx-fileman .uploadprogress {
		display:none;
	}
	
	
	.tx-fileman table {
		border: 2px solid #f2f2f1;
		border-collapse: separate;
		border-radius: 25px;
		border-spacing: 0 4px;
	    padding: 5px 15px 13px;
		width: 100%;
	}
	
	.tx-fileman table,
	.tx-fileman form,
	.tx-fileman .error {
		clear:both;
	}

	.tx-fileman table th {
		font-weight:bold;
		text-align:left;
		font-size:1.2em;
	}

	.tx-fileman table td {
		vertical-align:top;
		background-color:#f7f7f1;
		padding:8px 15px;
	}
	
	
	.tx-fileman .file-type-info {
		font-size:0.8em;
		opacity:0.9;
	}
	
	
	.tx-fileman .rel-switch {
		margin-left:8px;
		font-size:0.9em;
		display:none;
	}
	.tx-fileman .rel-switch:before {
		content:"[\25BC]";
		font-size:0.8em;
	}
	
	.tx-fileman .rel-links {
		margin-top:10px;
		font-size:0.9em;
	}
	
	.tx-fileman .rel-links ol {
		margin-top:0;
	}
	
	.tx-fileman .rel-links a {
		border-bottom:1px dotted;
		font-style:italic;
	}
	
	.tx-fileman .button-back {
		float:left;
		margin-left:10px;
	}
	
	.tx-fileman .button-new {
		float:right;
		margin-right:10px;
	}
	
	.tx-fileman .button-new,
	.tx-fileman .button-back {
		margin-bottom:10px;
	}
	
	.tx-fileman .button-new,
	.tx-fileman .button-edit,
	.tx-fileman .button-delete,
	.tx-fileman .button_back {
		display: inline-block;
	}
	
	.tx-fileman .button-new:before,
	.tx-fileman .button-edit:before,
	.tx-fileman .button-delete:before,
	.tx-fileman .button-back:before {
		background-image:url("/typo3conf/ext/fileman/Resources/Public/Icons/t3skin.png");
		content:"";
		float:left;
		height:16px;
		width:16px;
		margin:2px 8px 0 0;
	}
	
	.tx-fileman .button-new:before,
	.tx-fileman .button-back:before {
		float:left;
	}
	
	.tx-fileman .button-edit,
	.tx-fileman .button-delete {
		overflow:hidden;
		width:16px;
		height:18px;	
	}
	
	.tx-fileman .button-new:before {
		background-position:-180px 0;	
	}
	.tx-fileman .button-edit:before {
		background-position:-198px 0;
	}
	.tx-fileman .button-delete:before {
		background-position:-162px -18px;
	}
	.tx-fileman .button-back:before {
		background-position:-18px -36px;
	}
	
	
	.tx-fileman a {
		color:#66f;
		text-decoration:none;
		font-size:1.1em;
	}
	.tx-fileman a:hover,
	.tx-fileman a:focus,
	.tx-fileman a:active {
		color:#f22;
	}
	
	.tx-fileman fieldset {
		border:0;
	}
	
)