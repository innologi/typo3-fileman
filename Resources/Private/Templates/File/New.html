<f:layout name="Default" />

<f:section name="main">
<h3><f:translate key="tx_fileman_filelist.new_file_header" /></h3>

<f:link.action action="list" controller="File" arguments="{category : category}" class="button-back"><f:translate key="tx_fileman_filelist.go_back" /></f:link.action>

<f:flashMessages />

<f:render partial="FormErrors" arguments="{for: 'files'}" />

<f:form enctype="multipart/form-data" method="post" action="create"  name="files" object="{files}" arguments="{category : category}" class="init-progressbar">
	<fieldset>
		<div class="singleFile">
			<label>
				<f:translate key="tx_fileman_domain_model_file.file_uri" /> <span class="required"><f:translate key="tx_fileman_filelist.required" /></span>
				<br />
				<f:form.upload property="file.file0.fileUri" class="fileupload" />
			</label>
			<br />
			
			<div class="file-type-info">
				<f:if condition="{settings.allowFileType}">
					<f:then>
						<f:translate key="tx_fileman_filelist.filetype_filter.allow" />: {settings.allowFileType}
					</f:then>
					<f:else>
						<f:if condition="{settings.denyFileType}">
							<f:then>
								<f:translate key="tx_fileman_filelist.filetype_filter.deny" />: {settings.denyFileType}
							</f:then>
							<f:else>
								<f:translate key="tx_fileman_filelist.filetype_filter.none" />
							</f:else>
						</f:if>
					</f:else>
				</f:if>
			</div>
			<br />
			
			<f:render partial="File/FormFieldsMulti" arguments="{category:category}" />
		</div>
			
		<f:form.submit value="{f:translate(key:'tx_fileman_filelist.new_file_submit')}" class="submit" />
	</fieldset>
</f:form>

</f:section>